{"pcVersion":"6.1","pcUuid":"8d749fdc-bec6-4686-b20e-421a5b2972c2","hashValue":"kvaa6uYNnrr96Wt9fVlSlP7I8p3RjLXnceNMAW1jwsg=","actionRuleList":[{"uuid":"1f8551f9-97c5-4a35-6206-9d7f64267761","name":"New Karbon Cluster Created with MongoDB Instance Notification","isEnabled":true,"validated":true,"executionUserName":"admin","executionUserUuid":"00000000-0000-0000-0000-000000000000","triggerList":[{"uuid":"98a86e5e-f451-4ee2-89c8-0689d7ca77ac","triggerType":{"type":"trigger_type","uuid":"","name":"event_trigger"},"displayName":"Event","inputParameterList":[{"name":"operation_type","value":"1"},{"name":"category_filter_list","value":"[]"},{"name":"type","value":"VmCreateAudit"},{"name":"source_entity_info_list","value":"[]"}]}],"actionList":[{"uuid":"af82437c-e424-4333-9e37-9183ad214cf4","actionType":{"type":"action_type","uuid":"","name":"vm_lookup_action"},"displayName":"Lookup VM Details","inputParameterList":[{"name":"target_vm","value":"{{trigger[0].source_entity_info}}"}],"maxRetries":2,"childActionUuids":["be12db91-a48d-4f33-a76b-27812c53da6a"]},{"uuid":"be12db91-a48d-4f33-a76b-27812c53da6a","actionType":{"type":"action_type","uuid":"","name":"rest_api_action"},"displayName":"REST API","inputParameterList":[{"name":"url","value":"https://localhost:9440/api/nutanix/v3/vms/{{action[0].vm_uuid}}"},{"name":"username","value":"admin"},{"name":"password","value":""},{"name":"method","value":"GET"}],"maxRetries":2,"childActionUuids":["79858480-82ed-49e2-a159-de60c000db5f"]},{"uuid":"79858480-82ed-49e2-a159-de60c000db5f","actionType":{"type":"action_type","uuid":"","name":"parse_action"},"displayName":"String Parser","inputParameterList":[{"name":"json_path","value":"$.metadata.owner_reference.name"},{"name":"string_to_parse","value":"{{action[1].response_body}}"},{"name":"format","value":"json"}],"maxRetries":2,"description":"Get Owner Name","childActionUuids":["da9e2a1a-e349-4c11-914c-e4427bfac369"]},{"uuid":"da9e2a1a-e349-4c11-914c-e4427bfac369","actionType":{"type":"action_type","uuid":"","name":"parse_action"},"displayName":"String Parser","inputParameterList":[{"name":"json_path","value":"$.status.cluster_reference.name"},{"name":"string_to_parse","value":"{{action[1].response_body}}"},{"name":"format","value":"json"}],"maxRetries":2,"description":"Get Cluster Name","childActionUuids":["1a2b712b-868a-495b-b4c7-4b3eaf0f9769"]},{"uuid":"1a2b712b-868a-495b-b4c7-4b3eaf0f9769","actionType":{"type":"action_type","uuid":"","name":"parse_action"},"displayName":"String Parser","inputParameterList":[{"name":"json_path","value":"$..metadata.categories"},{"name":"string_to_parse","value":"{{action[1].response_body}}"},{"name":"format","value":"json"}],"maxRetries":2,"description":"Get Categories","childActionUuids":["c99527ac-0926-4d4c-b8a5-1ff32143f834"]},{"uuid":"c99527ac-0926-4d4c-b8a5-1ff32143f834","actionType":{"type":"action_type","uuid":"","name":"email_action"},"displayName":"Email","inputParameterList":[{"name":"message_body","value":"New VM Created: {{trigger[0].source_entity_info.name}} \nDate: {{trigger[0].creation_time}} \nOwner: {{action[2].parsed_data}}\nCPU: {{action[0].vcpus}} vCPUs\nMemory: {{action[0].memory_size}} GiB\nDisk Capacity: {{action[0].disk_capacity}} GiB\nCluster Name: {{action[3].parsed_data}}\nCategories: {{action[4].parsed_data}}"},{"name":"to_address","value":"jesse.gonzalez@nutanix.com"},{"name":"subject","value":"New Karbon MongoDB Cluster Created"}],"maxRetries":2}],"lastUpdateUser":"admin","isPrepackaged":false,"checkTriggerValidity":true,"description":"Notify when Karbon Cluster has been Created with MongoDB Instance","triggerFilterableInputParamName":"type","triggerFilterableInputParamValue":"VmCreateAudit","categoryFilterUuid":"96e0ba3f-8181-4a6a-96a2-2b4db38b2a72","ruleType":"kXPlay"}]}